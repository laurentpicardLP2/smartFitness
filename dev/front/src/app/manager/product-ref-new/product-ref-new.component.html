
<div fxFlex fxLayout fxLayoutAlign="center">
    <div class="pad">
      <form [formGroup]="productRefForm">
        <div>
          <mat-form-field class="product-ref-full-width">
            <mat-label>Catégorie du produit</mat-label>
            <mat-select required name="idProductCategory" formControlName="idProductCategory" [(ngModel)]="idProductCategory">
              <mat-option *ngFor="let productCategory of listProductCategories | async" value="{{productCategory.idProductCategory}}">{{ productCategory.nameProductCategory }}</mat-option>
            </mat-select>
          </mat-form-field>
        </div>
        <div>
          <mat-form-field class="product-ref-full-width">
            <input matInput placeholder="Nom du produit" type="text" formControlName="nameProductRef" [(ngModel)]="nameProductRef">
            <mat-error *ngIf="productRefForm.controls['nameProductRef'].hasError('nameProductRef') && productRefForm.value.nameProductRef">
              {{errors.nameProductRefSame}}
          </mat-error>
          <mat-error *ngIf="productRefForm.controls['nameProductRef'].hasError('required')">
              {{errors.nameProductRef}}
          </mat-error>
          </mat-form-field>
        </div>
        <div>
          <mat-form-field class="product-ref-full-width">
              <input matInput required placeholder="Prix du produit" type="number" formControlName="priceProductRef" [(ngModel)]="priceProductRef">
              <mat-error *ngIf="productRefForm.controls['priceProductRef'].hasError('required')">
                {{errors.priceProductRef}}
            </mat-error>
        </mat-form-field>
        </div>
        <div>
            <mat-form-field class="product-ref-full-width">
                <textarea matInput placeholder="Description du produit" type="text" formControlName="descriptionProductRef" [(ngModel)]="descriptionProductRef"></textarea>
            </mat-form-field>
    
          </div>
        <div>
          <input type="file" id="userFile" (change)="onSelectFile($event)" #fileInput style="display: none">
          <mat-form-field class="product-ref-full-width">
            <input matInput formControlName="imageProductRef" placeholder="Image à uploader" readonly>
          </mat-form-field>
          <button mat-raised-button (click)="selectFile()">Selectionner</button>
        </div>
  
        <button mat-raised-button [disabled]="productRefForm.invalid" (click)="onRegister()">Enregistrer</button>
      </form>
    </div> 
  </div>