
<div fxFlex fxLayout fxLayoutAlign="center">
  <div class="pad">
    <form [formGroup]="maintenanceForm" >
        <div>
          <mat-form-field class="facility-full-width">
              <input matInput readonly placeholder="Catégorie de l'équipement" type="text" formControlName="nameFacilityCategory" [(ngModel)]="nameFacilityCategory">
        </mat-form-field>
        </div>
         <div>
        <mat-form-field class="facility-full-width">
            <input matInput readonly placeholder="Nom de l'équipement" type="text" formControlName="nameFacility" [(ngModel)]="nameFacility">
        </mat-form-field>

      </div>
      <div>
          <mat-form-field class="facility-full-width">
              <input matInput placeholder="Coût de l'intervention" type="number" formControlName="costOfIntervention" [(ngModel)]="costOfIntervention">
          </mat-form-field>
        </div>
        <div>
            <mat-form-field>
              <input matInput type="date" placeholder="Date de l'intervetion" formControlName="dateOfIntervention" [(ngModel)]="strDateOfIntervention">
              </mat-form-field>
          </div>
          <div>
              <mat-form-field class="facility-full-width">
                  <textarea matInput placeholder="Type de l'intervention" type="text" formControlName="typeOfIntervention" [(ngModel)]="typeOfIntervention"></textarea>
              </mat-form-field>
            </div>
          <div>
          <mat-form-field class="facility-full-width">
              <textarea matInput placeholder="Description de l'intervention" type="text" formControlName="descOfIntervention" [(ngModel)]="descriptionOfIntervention"></textarea>
          </mat-form-field>
        </div>

      <button mat-raised-button [disabled]="maintenanceForm.invalid" (click)="onValidate()">Valider</button>

    </form>

    <div class="accountability-border">
        Recettes de l'équipement : {{revenue}}
        
        Dépenses de l'équipement : {{expenditure}}
       
    </div>

    <div class="pad">
      
      <table cellpadding="0" cellspacing="0">
          <caption>Historique des opérations de maintenance</caption>
          <thead>
            <tr>
              <th>Date</th>
              <th>Type</th>
              <th>Coût</th>
            </tr>
          </thead>
          <tbody>
          <tr *ngFor="let operation of maintenanceOperations">
            <td>{{convertIntoFormatDate(operation.dateOfIntervention)}}</td>
            <td>{{operation.typeOfIntervention}}</td>
            <td>{{operation.costOfIntervention}} € </td>
            <!-- <td><button (click)="onDelete(operation.idMaintenanceOperation)">Delete</button></td> -->
          </tr>
        </tbody>
      </table> 
    </div>
  </div>
  
</div>
