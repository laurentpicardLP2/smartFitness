!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/common"),require("rxjs"),require("@angular/core")):"function"==typeof define&&define.amd?define("ngx-paypal",["exports","@angular/common","rxjs","@angular/core"],t):t(e["ngx-paypal"]={},e.ng.common,e.rxjs,e.ng.core)}(this,function(e,t,n,r){"use strict";function o(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||0<t--)&&!(r=i.next()).done;)a.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=i["return"])&&n.call(i)}finally{if(o)throw o.error}}return a}var i=function(){function e(e){this.zone=e}return e.prototype.registerScript=function(e,t,n){var r=this;if(window[t])this.zone.run(function(){n(window[t])});else{var o=document.createElement("script");o.id=this.getElemId(t),o.innerHTML="",o.onload=function(){r.zone.run(function(){n(window[t])})},o.src=e,o.async=!0,o.defer=!0,document.getElementsByTagName("head")[0].appendChild(o)}},e.prototype.cleanup=function(e,t){window[t]=undefined,window[e]=undefined;var n=document.getElementById(this.getElemId(t));n&&document.removeChild(n)},e.prototype.getElemId=function(e){return"ngx-paypal-script-elem-"+e},e.decorators=[{type:r.Injectable}],e.ctorParameters=function(){return[{type:r.NgZone}]},e}(),a=function(){function e(e){this.scriptService=e,this.paypalWindowName="paypal"}return e.prototype.registerPayPalScript=function(e,t){this.scriptService.registerScript(this.getUrlForConfig(e),this.paypalWindowName,t)},e.prototype.getUrlForConfig=function(e){var t=[{name:"client-id",value:e.clientId}];return e.currency&&t.push({name:"currency",value:e.currency}),e.commit&&t.push({name:"commit",value:e.commit}),e.extraParams&&t.push.apply(t,function n(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(o(arguments[t]));return e}(e.extraParams)),"https://www.paypal.com/sdk/js"+this.getQueryString(t)},e.prototype.getQueryString=function(e){for(var t="",n=0;n<e.length;n++){var r=e[n];t+=0===n?"?":"&",t+=r.name+"="+r.value}return t},e.decorators=[{type:r.Injectable}],e.ctorParameters=function(){return[{type:i}]},e}(),c=function(){function e(e){this.paypalScriptService=e,this.registerScript=!0,this.scriptLoaded=new r.EventEmitter,this.ngUnsubscribe=new n.Subject,this.initializePayPal=!0}return Object.defineProperty(e.prototype,"payPalButtonContainer",{set:function(e){this.payPalButtonContainerElem=e},enumerable:!0,configurable:!0}),e.prototype.ngOnChanges=function(e){var t=this;this.payPalButtonContainerId||(this.payPalButtonContainerId=this.generateElementId());var n=this.config;n&&this.registerScript&&this.initPayPalScript(n,function(e){t.payPal=e,t.doPayPalCheck()})},e.prototype.ngOnDestroy=function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()},e.prototype.ngAfterViewInit=function(){this.doPayPalCheck()},e.prototype.customInit=function(e){this.payPal=e,this.doPayPalCheck()},e.prototype.doPayPalCheck=function(){this.initializePayPal&&this.config&&this.payPal&&this.payPalButtonContainerElem&&this.payPalButtonContainerElem.nativeElement.id&&(this.initializePayPal=!1,this.initPayPal(this.config,this.payPal))},e.prototype.initPayPalScript=function(e,t){var n=this;this.paypalScriptService.registerPayPalScript({clientId:e.clientId,commit:e.advanced&&e.advanced.commit?e.advanced.commit:undefined,currency:e.currency,extraParams:e.advanced&&e.advanced.extraQueryParams?e.advanced.extraQueryParams:[]},function(e){n.scriptLoaded.next(e),t(e)})},e.prototype.generateElementId=function(){return"ngx-captcha-id-"+(new Date).valueOf()},e.prototype.initPayPal=function(r,e){e.Buttons({style:r.style,createOrder:function(e,t){if(r.createOrderOnClient&&r.createOrderOnServer)throw Error("Both 'createOrderOnClient' and 'createOrderOnServer' are defined.\n                        Please choose one or the other.");if(!r.createOrderOnClient&&!r.createOrderOnServer)throw Error("Neither 'createOrderOnClient' or 'createOrderOnServer' are defined.\n                        Please define one of these to create order.");if(r.createOrderOnClient)return t.order.create(r.createOrderOnClient(e));if(r.createOrderOnServer)return r.createOrderOnServer(e);throw Error("Invalid state for 'createOrder'.")},onApprove:function(e,t){if(r.onApprove&&r.onApprove(e,t),r.authorizeOnServer)return r.authorizeOnServer(e,t);var n=r.onClientAuthorization;n&&t.order.capture().then(function(e){n(e)})},onError:function(e){r.onError&&r.onError(e)},onCancel:function(e,t){r.onCancel&&r.onCancel(e,t)},onShippingChange:function(e,t){if(r.onShippingChange)return r.onShippingChange(e,t)},onClick:function(){r.onClick&&r.onClick()}}).render("#"+this.payPalButtonContainerId)},e.decorators=[{type:r.Component,args:[{changeDetection:r.ChangeDetectionStrategy.OnPush,selector:"ngx-paypal",template:'\n    <div #payPalButtonContainer [id]="payPalButtonContainerId"></div>\n    '}]}],e.ctorParameters=function(){return[{type:a}]},e.propDecorators={config:[{type:r.Input}],registerScript:[{type:r.Input}],scriptLoaded:[{type:r.Output}],payPalButtonContainer:[{type:r.ViewChild,args:["payPalButtonContainer"]}]},e}(),p=function(){function e(){}return e.decorators=[{type:r.NgModule,args:[{imports:[t.CommonModule],declarations:[c],exports:[c],providers:[i,a]}]}],e}();e.NgxPayPalModule=p,e.NgxPaypalComponent=c,e.PayPalScriptService=a,e.Éµa=i,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ngx-paypal.umd.min.js.map